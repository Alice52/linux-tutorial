## Linux

Linux 系统是一个多用户多任务的分时操作系统

## Common

1. lscpu

   ```shell
   lscpu
   # Socket(s):             1
   # Core(s) per socket:    1
   # Thread(s) per core:    1
   # CPU(s):                1
   ```

2. `多核 CPU 每个核心利用率都可以达到 100%`

## 目录的操作命令

1. 切换

   ```shell
   cd usr: 切换到该目录下usr目录
   cd ..(或cd../): 切换到上一层目录
   cd /: 切换到系统根目录
   cd ~: 切换到用户主目录
   cd -: 切换到上一个所在目录
   ```

2. 目录增删改查

   ```shell
   mkdir 目录名称:  增加目录
   ls/ll: ll 是 ls -l 的缩写, ll 命令以看到该目录下的所有目录和文件的详细信息: 查看目录信息
   find 目录参数: 寻找目录
       - 列出当前目录及子目录下所有文件和文件夹: find .
       - 在 /home 目录下查找以 .txt 结尾的文件名: find /home -name "*.txt"
       - 同上, 但忽略大小写: find /home -iname "*.txt"
       - 当前目录及子目录下查找所有以 .txt 和 .pdf 结尾的文件: find . \( -name "*.txt" -o -name "*.pdf" \) 或 find . -name "*.txt" -o -name "*.pdf"
   mv 目录名称 新目录名称:  修改目录的名称
   mv 目录名称 目录的新位置:  移动目录的位置
   cp -r 目录名称 目录拷贝的目标位置:  拷贝目录, -r代表递归拷贝
   rm [-rf] 目录: 删除目录
   ```

3. 文件增删改查

   ```shell
   # 创建
   touch 文件名称: 文件的创建
   # 查询
   cat /more/less/tail 文件名称 文件的查看
       - cat: 只能显示最后一屏内容
   more: 可以显示百分比, 回车可以向下一行, 空格可以向下一页, q 可以退出查看
   less: 可以使用键盘上的 PgUp 和 PgDn 向上 和向下翻页, q 结束查看
   head -10: 查看文件的前 10 行, Ctrl+C 结束
   tail -10: 查看文件的后 10 行, Ctrl+C 结束
       - tail -f 文件 可以对某个文件进行动态监控
   ```

4. vim 修改 文件

   - 移动光标

     1. vim 可以使用小写英文字母 h j k l 分别控制光标左 下 上 右移动, 也可以使用箭头
     2. Ctrl+b 屏幕往后移动一页
     3. Ctrl+f 屏幕往前移动一页
     4. Ctrl+u 屏幕往后移动半页
     5. Ctrl+d 屏幕往前移动半页
     6. Shift+g == G 移动到文章的最后
     7. Shift+4 == \$ 移动到光标所在行的行尾
     8. Shift+6 == ^ 移动到光标所在行的行首
     9. w 光标跳到下个字的开头
     10. e 光标跳到下个字的字尾
     11. b 光标回到上个字的开头
     12. #l 例如: 5l , 56l 光标移动到该行的第'#'个位置
     13. gg 进入到文本的开始

   - 删除文字

     1. x 每按一次删除光标所在位置的一个字符
     2. #x 例子: 6x 删除光标所在位置的"后面"(包含自己在内)6 个字符
     3. Shift+x == X 每按一次, 删除光标所在位置的前一个字符
     4. Shift+#x == #X 例子 20X 删除光标所在位置的前面 20 个字符
     5. dd 删除光标所在行
     6. #dd 例子 6dd 从光标所在行开始删除 6 行

   - 复制: 所有与 y 有关的复制命令都必须与 p 配合才能完成复制粘贴功能

     1. yw 将光标所在之处到字尾的字符复制到缓冲区中
     2. #yw 例子 6yw 复制 6 个字符到缓冲区
     3. yy 复制光标所在行到缓冲区
     4. #yy 例子 6yy 拷贝从光标所在的该行"往下数"6 行文字
     5. p 将缓冲区内的字符贴到光标所在位置

   - 替换

     1. r 替换光标所在处的字符
     2. R 替换光标所到之处的字符，知道按下 Esc 键为止.

   - 撤销上一次的操作

     1. u 回到上一个操作，按动多次'u'可以执行多次回复

   - 更改

     1. 1.cw 更改光标所在处的字到字尾处
     2. c#w 例子 c3w 表示更改三个字

   - 跳至指定行

     1. Ctrl+g 列出光标所在行的行号
     2. #G 例子 15G 表示移动光标到文章的第 15 行行首

5. 压缩文件

   ```shell
   tar -zcvf 压缩文件
   tar -xvf] 解压文件
   ```

   - z: 调用 gzip 压缩命令进行压缩
   - c: 打包文件
   - v: 显示运行过程
   - f: 指定文件名
   - x: 代表解压

6. 权限命令

   ![avatar](/static/image/common/linux/permission.png)

   - 文件的类型

     1. d: 代表目录
     2. -: 代表文件
     3. l: 代表链接

   - 属主权限

     1. r: 可读, 数字 4 表示
     2. w: 可写, 数字 2 表示
     3. x: 可执行, 数字 1 表示

   - chmod

     ```shell
     chmod u=rwx,g=rw,o=r aaa.txt
     chmod 764 aaa.txt
     ```

   - chkconfig: 开机自执行脚本

     ```shell
     chkconfig --add zookeeper
     chkconfig --list
     ```

7. 用户管理

   - useradd 选项 用户名: 添加用户账号
     - 使用 useradd 指令所建立的帐号, 实际上是保存在 `/etc/passwd` 文本文件中:
     - 该文件内容的解释: `用户名:密码:用户id:组id:用户说明:用户的主目录:用户使用的shell环境(默认为bash)`
   - userdel 选项 用户名: 删除用户帐号
   - usermod 选项 用户名: 修改帐号
   - passwd 用户名: 更改或创建用户的密码
   - passwd -S 用户名: 显示用户账号密码信息
   - passwd -d 用户名: 清除用户密码
   - su - 用户名: 切换登录用户

8. 用户组的管理

   - groupadd 选项 用户组: 增加一个新的用户组
   - groupdel 用户组: 要删除一个已有的用户组
   - groupmod 选项 用户组: 修改用户组的属性

---

## reference

1. http://man.linuxde.net/
