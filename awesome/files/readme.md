- 磁盘指标: 吞吐量、IOPS、时延

## [文件系统](https://mp.weixin.qq.com/s/F_yIYLp1dZrxaNPM1nAXgw)

1. NAS

   - 以文件和文件夹的层次结构来整理和呈现数据
   - 协议: NFS、SMB, 支持 POSIX 接口访问
   - pros & cons:
     1. 多机器(ecs)通过 posix 同时高并发的访问
     2. 随机读写、在线修改、直读直写

2. EBS

   - 将数据拆分到任意划分且大小相同的卷中
   - 协议: iSCSI
   - pros & cons:
     1. 适合数据库: 性能高、时延、持随机读写
     2. ebs 无法实现容量弹性扩展(最大 32t)
     3. EBS 是裸磁盘, 需要格式化成文件系统(ext3、ext4、NTFS 等)后才能被访问

3. OSS/COS/S3(Simple Storage Service)

   - 管理数据并将其**链接**至关联的元数据
   - 协议: HTTP/HTTPS
   - introduce
     1. 对象存储在存储段 bucket 中
     2. 对象就像是文件, 存储段就像是文件夹或目录
     3. 对象和存储段通过统一资源标识符(URI)进行查找
   - pros & cons:
     1. 不支持文件随机读写
     2. 适用于互联网架构的海量数据的上传下载和分发

4. conlusion

   |   存储产品   |    时延    |   吞吐    |   协议   |  访问模式（虚机访问存储数据的接口）  |          应用场景           |
   | :----------: | :--------: | :-------: | :------: | :----------------------------------: | :-------------------------: |
   | 文件存储 nas |   毫秒级   | 数百 gbps | nfs、smb | 多 ecs, posix 接口并发访问, 随机读写 | 高并发读/在线修改/直读直写  |
   |  块存储 ebs  |   微秒级   | 数十 gbps | 自研协议 |   单 ecs, posix 接口访问, 随机读写   | 数据库(io 密集/低时延/性能) |
   | 对象存储 oss | 几十毫秒级 | 数百 gbps | http[s]  |  数百万客户端通过 web 并发, 追加写   |  海量数据的上传下载和分发   |

5. 协议(规则)、接口(实现方&使用方)

   - 协议是接口的既定规则, 接口是协议的具体实现
   - 不需要过分区分协议和接口, 他们的联系更加紧密

6. 协议介绍

   - NFS(网络文件系统): 用户和程序可以像访问本地文件一样访问远端系统上的文件, 只 linux
   - SMB(服务器消息块): 应用程序从远端的文件服务器访问文件资源, 只 linux/windows
   - POSIX: 可移植操作系统接口 POSIX + API 可以在各种不同的操作系统上实现给应用程序提供完全相同的接口
   - iSCSI: 自定义协议
   - RESTful
